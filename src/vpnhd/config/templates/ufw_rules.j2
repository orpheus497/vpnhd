# UFW Firewall Rules for WireGuard VPN
# Generated by VPNHD

# Default policies
ufw default deny incoming
ufw default allow outgoing

# Allow WireGuard port from anywhere
ufw allow {{ wireguard_port }}/udp comment 'WireGuard VPN'

# Allow SSH only from VPN network
ufw allow from {{ vpn_network }} to any port {{ ssh_port }} proto tcp comment 'SSH from VPN'

# Allow SSH from LAN (local network) - optional
{% if allow_ssh_from_lan %}
ufw allow from {{ lan_network }} to any port {{ ssh_port }} proto tcp comment 'SSH from LAN'
{% endif %}

# Enable UFW
ufw --force enable
